(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{249:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var n=a(0),r=a.n(n),i=a(435),o=a(20),l=a(436),c=a(15),s=a.n(c),u=a(23),m=a.n(u),d=a(9),f=a(24),g=a(8),h=a(91);function p(e){return r.a.createElement(g.a,{style:[E.card,{backgroundColor:e.color}]},r.a.createElement(g.a,{style:E.cardContent},e.children))}var y,v,E=d.a.create({card:{borderRadius:6,elevation:3,shadowOffset:{width:1,height:1},shadowColor:"#333",shadowOpacity:.3,shadowRadius:2,marginHorizontal:4,marginVertical:6},cardContent:{marginHorizontal:18,marginVertical:10,flexDirection:"row",justifyContent:"space-between"}}),x=a(183),b=a(43),w=a.n(b),S=0,T=0,C=0,D=0,O=0,I=[],P=-1;var k=d.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#F5FCFF"},time:{fontSize:50,textAlign:"center",margin:10},saveButton:{marginTop:10}}),j=a(437),F=a(32);function z(e){var t=e.navigation,a=e.title;return r.a.createElement(g.a,{style:A.header},r.a.createElement(j.a,{name:"menu",size:28,onPress:function(){t.openDrawer()},style:A.icon}),r.a.createElement(g.a,null,r.a.createElement(f.a,{style:A.headerText},a)))}var A=d.a.create({header:{width:F.a.get("screen").width,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},headerText:{fontWeight:"bold",fontSize:20,color:"#ffffff"},icon:{position:"absolute",left:16,color:"white"}}),L={Home:{screen:function(e){var t=e.navigation,a=Object(n.useState)({hours:0,minutes:0,seconds:0}),i=m()(a,2),o=i[0],l=i[1],c=Object(n.useState)(!1),u=m()(c,2),d=u[0],p=u[1],E=Object(n.useState)({color:"green",text:"Start"}),x=m()(E,2),b=x[0],j=x[1];function F(e){return("00"+e).substr(-2)}function z(){++C>=60&&(T+=C/60,C%=60),T>=60&&(S+=T/60,T%=60),l({hours:S,minutes:T,seconds:C})}return t.addListener("didFocus",(function(){P>=0&&s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=console,e.next=4,s.a.awrap(w.a.getItem("totalTimesArr"));case 4:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.t2=JSON,e.next=9,s.a.awrap(w.a.getItem("totalTimesArr"));case 9:e.t3=e.sent,I=e.t2.parse.call(e.t2,e.t3),e.next=16;break;case 13:e.prev=13,e.t4=e.catch(0),console.log("async caught");case 16:case"end":return e.stop()}}),null,null,[[0,13]],Promise)})),r.a.createElement(g.a,{style:k.container},r.a.createElement(f.a,{style:k.time},F(o.hours),":",F(o.minutes),":",F(o.seconds)),r.a.createElement(g.a,null,r.a.createElement(h.a,{title:b.text,color:b.color,onPress:function(){O%2===0?(D=setInterval(z,1e3),j({color:"red",text:"Pause"})):(clearInterval(D),j({color:"green",text:"Start"})),p(!0),O++}})),r.a.createElement(g.a,{style:k.saveButton},d&&r.a.createElement(h.a,{title:" Save ",onPress:function(){O%2===0?O++:(clearInterval(D),j({color:"green",text:"Start"})),p(!0),y=(new Date).getHours(),!0===d&&O++,P++,v=y>=17?{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),day:(new Date).getDate(),hours:S,minutes:T,dayTime:!1,key:P}:{month:(new Date).getMonth()+1,year:(new Date).getFullYear(),day:(new Date).getDate(),hours:S,minutes:T,dayTime:!0,key:P},l({hours:0,minutes:0,seconds:0}),S=0,T=0,C=0,I.push(v),w.a.setItem("totalTimesArr",JSON.stringify(I))}})))},navigationOptions:function(e){var t=e.navigation;return{headerTitle:function(){return r.a.createElement(z,{navigation:t,title:"Drive45"})},headerStyle:{backgroundColor:"#2c3df5"},headerTintColor:"#ffffff",headerTitleAlign:"center"}}}},N=Object(l.a)(L),H=a(97),J=a(53),M=d.a.create({container:{flex:1,padding:20},titleText:{fontSize:18},paragraph:{marginVertical:8,lineHeight:20}});var W=d.a.create({textStyle:{fontSize:15,color:"white"},timeDay:{fontSize:40,color:"#14990f"},timeNight:{fontSize:40,color:"#1d0178"},totalTime:{flexDirection:"row",justifyContent:"space-between",marginLeft:60,marginRight:60},times:{alignItems:"center"},exportTime:{fontSize:17,textAlign:"right",fontWeight:"bold"}});var R=d.a.create({container:{flex:1,justifyContent:"center",backgroundColor:"#F5FCFF",alignItems:"center"},text:{fontSize:20}}),V={Log:{screen:function(e){var t=e.navigation,a=Object(n.useState)(!1),i=m()(a,2),o=i[0],l=i[1],c=Object(n.useState)({studentEmail:"",parentEmail:""}),u=m()(c,2),d=u[0],h=u[1],y=function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.awrap(w.a.setItem("sent",e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)};function v(e,t,a){var n=new Date;5==n.getDay()&&"true"!=a?(!function(e,t){O(e),O(t)}(e,t),y("true")):5!=n.getDay()&&"true"==a&&y("false")}t.addListener("didFocus",(function(){!function(){var e,t,a,n;s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log("Getting data"),r.next=4,s.a.awrap(w.a.getItem("studentEmail"));case 4:return e=r.sent,r.next=7,s.a.awrap(w.a.getItem("parentEmail"));case 7:return t=r.sent,r.next=10,s.a.awrap(w.a.getItem("totalTimesArr"));case 10:return a=r.sent,r.next=13,s.a.awrap(w.a.getItem("sent"));case 13:n=r.sent,v(e,t,n),S(JSON.parse(a)),o||(h({studentEmail:e,parentEmail:t}),l(!0)),r.next=22;break;case 19:r.prev=19,r.t0=r.catch(0),console.log(r.t0);case 22:case"end":return r.stop()}}),null,null,[[0,19]],Promise)}()}));var E=Object(n.useState)([]),x=m()(E,2),b=x[0],S=x[1],T=0,C=0;function D(e){var t='<table style="width: 100%">';t+="<tr><th>Date</th><th>Time</th><th>Time of Day</th></tr>";for(var a=0;a<e.length;a++)t+="<tr>",t+="<td>"+e[a].month+"/"+e[a].day+"/"+e[a].year+"</td>",t+="<td>"+e[a].hours+"H "+e[a].minutes+"M</td>",e[a].dayTime?t+="<td>Daytime</td>":t+="<td>Nighttime</td>",t+="</tr>";return t+="</table>"}function O(e){console.log(e);var t={r:e,hd:T,hn:C,table:D(b)};fetch("https://driversed.pythonanywhere.com/api_1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))}return 0==b.length&&b.forEach((function(e){e.dayTime?(T+=e.minutes/60,T+=e.hours):(C+=e.minutes/60,C+=e.hours)})),T=Math.trunc(T),C=Math.trunc(C),r.a.createElement(g.a,{style:M.container},r.a.createElement(J.a,{onPress:function(){O(d.studentEmail),O(d.parentEmail)}},r.a.createElement(f.a,{style:W.exportTime},"Export")),r.a.createElement(g.a,{style:W.totalTime},r.a.createElement(g.a,{style:W.times},r.a.createElement(f.a,{style:W.timeDay},T),r.a.createElement(f.a,null,"DAY")),r.a.createElement(g.a,{style:W.times},r.a.createElement(f.a,{style:W.timeNight},C),r.a.createElement(f.a,null,"NIGHT"))),r.a.createElement(H.a,{data:b.reverse(),renderItem:function(e){var a,n=e.item;return r.a.createElement(J.a,{onPress:function(){return t.navigate("Details",n)}},r.a.createElement(p,{color:(a=n.dayTime,a?"#14990f":"#1d0178")},r.a.createElement(f.a,{style:W.textStyle},n.month,"/",n.day,"/",n.year),r.a.createElement(f.a,{style:W.textStyle},n.hours,"H ",n.minutes,"M")))}}))},navigationOptions:function(e){var t=e.navigation;return{headerTitle:function(){return r.a.createElement(z,{navigation:t,title:"Log"})},headerStyle:{backgroundColor:"#2c3df5"},headerTintColor:"#ffffff",headerTitleAlign:"center"}}},Details:{screen:function(e){var t=e.navigation,a=Object(n.useState)(),i=m()(a,2),o=i[0],l=i[1];return t.addListener("didFocus",(function(){!function(){var e;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Getting data in Log Details"),t.next=4,s.a.awrap(w.a.getItem("totalTimesArr"));case 4:e=t.sent,l(JSON.parse(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)}()})),r.a.createElement(g.a,{style:R.container},r.a.createElement(f.a,{style:R.text},t.getParam("month"),"/",t.getParam("day"),"/",t.getParam("year")),r.a.createElement(f.a,{style:R.text},"Time Driven: ",t.getParam("hours"),"H"," ",t.getParam("minutes"),"M"),r.a.createElement(J.a,null,r.a.createElement(j.a,{name:"delete",size:28,style:R.icon,onPress:function(){o.splice(t.getParam("key"),1),w.a.setItem("totalTimesArr",JSON.stringify(o)),w.a.setItem("editedData",JSON.stringify(o))}})))},navigationOptions:{headerStyle:{backgroundColor:"#2c3df5"},headerTintColor:"#ffffff",headerTitleAlign:"center",headerTitleStyle:{fontWeight:"bold",fontSize:20}}}},G=Object(l.a)(V),Y=a(38);var B=d.a.create({container:{marginTop:20},input:{borderWidth:1,borderColor:"#ddd",padding:10,fontSize:18,borderRadius:6,margin:10},button:{marginTop:10,alignItems:"center"},text:{marginLeft:10}}),_={Settings:{screen:function(e){var t=e.navigation,a=Object(n.useState)({studentEmail:"",parentEmail:""}),i=m()(a,2),o=i[0],l=i[1];return t.addListener("didFocus",(function(){!function(){var e,t;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.awrap(w.a.getItem("studentEmail"));case 3:return e=a.sent,a.next=6,s.a.awrap(w.a.getItem("parentEmail"));case 6:t=a.sent,null!=e&&null!=t&&(l({studentEmail:e,parentEmail:t}),console.log(o)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,10]],Promise)}()})),r.a.createElement(g.a,{style:B.container},r.a.createElement(x.a,{enableReinitialize:!0,initialValues:{studentEmail:o.studentEmail,parentEmail:o.parentEmail},onSubmit:function(e,t){return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.awrap(w.a.setItem("studentEmail",e.studentEmail));case 3:return a.next=5,s.a.awrap(w.a.setItem("parentEmail",e.parentEmail));case 5:t.resetForm(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),null,null,[[0,8]],Promise)}},(function(e){return r.a.createElement(g.a,null,r.a.createElement(g.a,{style:B.text},r.a.createElement(f.a,null,"Student Email")),r.a.createElement(Y.a,{style:B.input,placeholder:"Student Email",onChangeText:e.handleChange("studentEmail"),value:e.values.studentEmail}),r.a.createElement(g.a,{style:B.text},r.a.createElement(f.a,null,"Parent Email")),r.a.createElement(Y.a,{style:B.input,placeholder:"Parent Email",onChangeText:e.handleChange("parentEmail"),value:e.values.parentEmail}),r.a.createElement(g.a,{style:B.button},r.a.createElement(h.a,{title:"Submit",color:"green",onPress:e.handleSubmit})))})))},navigationOptions:function(e){var t=e.navigation;return{headerTitle:function(){return r.a.createElement(z,{navigation:t,title:"Settings"})},headerStyle:{backgroundColor:"#2c3df5"},headerTintColor:"#ffffff",headerTitleAlign:"center"}}}},q=Object(l.a)(_),K=Object(i.a)({Home:{screen:N},Log:{screen:G},Settings:{screen:q}}),Q=Object(o.createAppContainer)(K);a(409),a(182);function U(){return n.createElement(Q,null)}},254:function(e,t,a){a(255),e.exports=a(416)},255:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[254,1,2]]]);
//# sourceMappingURL=app.ed021f5e.chunk.js.map